<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Route Map</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=g24wojyn1l"></script>

</head>
<body>
<div id="map" style="width: 100%; height: 400px;"></div>

<script type="text/javascript" >
    var map = new naver.maps.Map('map', {
        center: new naver.maps.LatLng(37.3595704, 127.105399),  // Default center (adjust as needed)
        zoom: 10
    });

    // Fetch route data from your backend
    fetch('/api/3/route')
        .then(response => response.json())
        .then(data => {
            var routeData = data.route; // Assuming the backend returns an array of coordinates

            // Example of plotting a route
            var routeCoords = [
                new naver.maps.LatLng(routeData.SX, routeData.SY), // Start point
                new naver.maps.LatLng(routeData.EX, routeData.EY)  // End point
                // Add more coordinates if available in the routeData
            ];

            var polyline = new naver.maps.Polyline({
                map: map,
                path: routeCoords,
                strokeColor: '#5347AA',
                strokeWeight: 5
            });

            // Adjust map bounds to fit the route
            var bounds = new naver.maps.LatLngBounds();
            routeCoords.forEach(function(coord) {
                bounds.extend(coord);
            });
            map.fitBounds(bounds);
        })
        .catch(error => console.error('Error fetching route data:', error));
</script>
</body>
</html>
